$ ->
  # create
  $(".ajax-comments")
    .on "ajax:beforeSend", (evt, xhr, settings) ->
      $(this).find(".form-control")
        .addClass("uneditable-input")
        .attr("disabled", "disabled");
    .on "ajax:success", (evt, data, xhr, settings) ->
      $(this).find(".form-control")
        .removeClass("uneditable-input")
        .removeAttr("disabled", "disabled")
        .val("");
      $(data).appendTo($(".comments-block").last()).show("fast")

$ ->
  # create
  $(".ajax-comments-ct")
    .on "ajax:beforeSend", (evt, xhr, settings) ->
      $(this).find(".form-control")
        .addClass("uneditable-input")
        .attr("disabled", "disabled");
    .on "ajax:success", (evt, data, xhr, settings) ->
      $(this).find(".form-control")
        .removeClass("uneditable-input")
        .removeAttr("disabled", "disabled")
        .val("");
      $(data).appendTo($(".ct-comments-block").last()).show("fast")

$ ->
  # destroy
  $(document)
    .on "ajax:beforeSend", ".comment-row", ->
      $(this).fadeTo("fast", 0.5);
    .on "ajax:success", ".comment-row", ->
      $(this).hide("hide");
    .on "ajax:error", ".comment-row", ->
      $(this).fadeTo("fast", 1);

